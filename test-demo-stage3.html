<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON字段排序功能演示 - 第三阶段</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: #1a1a1a;
            color: #fff;
        }
        .demo-section {
            background: #2a2a2a;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            border: 1px solid #444;
        }
        .demo-json {
            background: #1e1e1e;
            border: 1px solid #444;
            border-radius: 5px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            overflow-x: auto;
            margin: 10px 0;
        }
        .status {
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .success { background: rgba(34, 197, 94, 0.2); border: 1px solid #22c55e; color: #22c55e; }
        .error { background: rgba(239, 68, 68, 0.2); border: 1px solid #ef4444; color: #ef4444; }
        .warning { background: rgba(245, 158, 11, 0.2); border: 1px solid #f59e0b; color: #f59e0b; }
        .info { background: rgba(59, 130, 246, 0.2); border: 1px solid #3b82f6; color: #3b82f6; }
        .purple { background: rgba(147, 51, 234, 0.2); border: 1px solid #9333ea; color: #9333ea; }
        h1, h2 { color: #60a5fa; }
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .comparison h4 {
            margin: 0 0 10px 0;
            color: #f59e0b;
        }
        @media (max-width: 768px) {
            .comparison { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <h1>📊 JSON智能比较工具 - 第三阶段功能演示</h1>
    
    <div class="demo-section">
        <h2>✅ 第三阶段已实现的核心功能</h2>
        <ul>
            <li><strong>🔤 字母排序</strong> - 按字段名称的字母顺序排列</li>
            <li><strong>🎭 类型排序</strong> - 按数据类型分组排列</li>
            <li><strong>📝 原始顺序</strong> - 保持JSON原有的字段顺序</li>
            <li><strong>🔄 自动排序</strong> - 切换排序选项时自动应用</li>
            <li><strong>🎯 手动排序</strong> - 独立的排序按钮控制</li>
            <li><strong>📱 智能UI</strong> - 动态显示排序说明和状态</li>
        </ul>
    </div>

    <div class="demo-section">
        <h2>🔤 测试用例1：字母排序功能</h2>
        <p>原始JSON（字段顺序混乱）：</p>
        <div class="demo-json">{
  "zValue": "最后一个",
  "aValue": "第一个",
  "middleValue": "中间值",
  "booleanFlag": true,
  "numberData": 42
}</div>
        
        <div class="status purple">🔤 应用字母排序后的效果：</div>
        
        <div class="demo-json">{
  "aValue": "第一个",
  "booleanFlag": true,
  "middleValue": "中间值",
  "numberData": 42,
  "zValue": "最后一个"
}</div>
        
        <div class="status success">✅ 字段按字母顺序完美排列，比较更加清晰</div>
    </div>

    <div class="demo-section">
        <h2>🎭 测试用例2：类型排序功能</h2>
        <p>复杂的JSON数据（多种数据类型混合）：</p>
        <div class="demo-json">{
  "userInfo": {
    "name": "张三",
    "age": 25
  },
  "isActive": true,
  "tags": ["开发者", "前端"],
  "score": 95.5,
  "description": "用户描述",
  "metadata": null,
  "isEnabled": false
}</div>
        
        <div class="status purple">🎭 应用类型排序后的效果（null < boolean < number < string < array < object）：</div>
        
        <div class="demo-json">{
  "metadata": null,
  "isActive": true,
  "isEnabled": false,
  "score": 95.5,
  "description": "用户描述",
  "tags": ["开发者", "前端"],
  "userInfo": {
    "age": 25,
    "name": "张三"
  }
}</div>
        
        <div class="status success">✅ 按数据类型分组，同类型内按字母排序，结构更有序</div>
    </div>

    <div class="demo-section">
        <h2>🔄 测试用例3：排序算法对比</h2>
        <p>使用项目示例数据进行排序对比：</p>
        
        <div class="comparison">
            <div>
                <h4>🔤 字母排序结果</h4>
                <div class="demo-json">{
  "bdCds": ["全选"],
  "bigGroupCds": ["全选"],
  "bpRel": 2,
  "businessClasses": ["中腰达人"],
  "costCaliberCd": "1",
  "dateTyp": "付款日期",
  "drTagCds": ["空"],
  "drTagTyp": 1,
  "drUids": ["全选"],
  "dyAccountIds": ["全选"],
  "dyAccountNam": "全选",
  "empCd": "80558419",
  "institutionNams": ["空"],
  "liveTyps": ["全部"],
  "mediaTyps": ["全选"],
  "orderOrTarget": 5,
  "payDt": "202506",
  "productCds": ["全选"],
  "productTags": ["全选"],
  "productTyps": ["全选"],
  "rondaScenes": ["全选"],
  "smallGroupCds": ["全选"]
}</div>
            </div>
            
            <div>
                <h4>🎭 类型排序结果</h4>
                <div class="demo-json">{
  "bpRel": 2,
  "drTagTyp": 1,
  "orderOrTarget": 5,
  "costCaliberCd": "1",
  "dateTyp": "付款日期",
  "dyAccountNam": "全选",
  "empCd": "80558419",
  "payDt": "202506",
  "bdCds": ["全选"],
  "bigGroupCds": ["全选"],
  "businessClasses": ["中腰达人"],
  "drTagCds": ["空"],
  "drUids": ["全选"],
  "dyAccountIds": ["全选"],
  "institutionNams": ["空"],
  "liveTyps": ["全部"],
  "mediaTyps": ["全选"],
  "productCds": ["全选"],
  "productTags": ["全选"],
  "productTyps": ["全选"],
  "rondaScenes": ["全选"],
  "smallGroupCds": ["全选"]
}</div>
            </div>
        </div>
        
        <div class="status info">💡 两种排序方式各有优势，用户可根据需要自由切换</div>
    </div>

    <div class="demo-section">
        <h2>🎯 用户体验亮点</h2>
        <ul>
            <li><strong>🔄 自动排序</strong>：切换排序选项时，有内容的JSON自动重新排序</li>
            <li><strong>🎯 手动排序</strong>：紫色排序按钮支持独立控制每一侧的排序</li>
            <li><strong>📝 动态说明</strong>：实时显示当前排序方式的详细说明</li>
            <li><strong>🎨 视觉反馈</strong>：排序时显示加载动画，选中状态有阴影高亮</li>
            <li><strong>🚀 递归排序</strong>：支持嵌套对象的深度排序</li>
            <li><strong>🌐 中文友好</strong>：字母排序支持中文字符的正确排序</li>
        </ul>
    </div>

    <div class="demo-section">
        <h2>🧠 排序算法详解</h2>
        
        <div class="status info">
            <strong>🔤 字母排序算法</strong><br>
            使用 `localeCompare` 方法，支持中文和数字的自然排序，确保 "field1", "field2", "field10" 的正确顺序。
        </div>
        
        <div class="status purple">
            <strong>🎭 类型排序算法</strong><br>
            按数据类型权重排序：null(0) → boolean(1) → number(2) → string(3) → array(4) → object(5)，同类型内按字母排序。
        </div>
        
        <div class="status success">
            <strong>🔄 递归排序算法</strong><br>
            深度遍历JSON结构，确保嵌套对象和数组内的元素也按相同规则排序，保持数据结构的一致性。
        </div>
    </div>

    <div class="demo-section">
        <h2>🎯 解决的核心痛点</h2>
        <div class="status success">
            <strong>✅ 问题解决：两边JSON字段顺序不一致，肉眼比较混乱</strong><br>
            通过智能排序算法，确保两边JSON使用相同的字段顺序，极大提升比较效率和准确性。
        </div>
    </div>

    <div class="demo-section">
        <h2>🔜 下一阶段预告</h2>
        <p><strong>第四阶段 - 差异检测与标记</strong></p>
        <ul>
            <li>🎨 实现JSON差异检测算法</li>
            <li>🟢 新增字段的绿色标记</li>
            <li>🔴 删除字段的红色标记</li>
            <li>🟡 值不同字段的黄色标记</li>
            <li>🔵 类型不同字段的蓝色标记</li>
            <li>📝 差异详情悬浮提示</li>
        </ul>
    </div>

    <div style="text-align: center; margin-top: 40px; color: #888;">
        <p>🚀 访问 <strong>http://localhost:3000</strong> 体验完整的字段排序功能</p>
        <p>💡 尝试切换不同的排序选项，观察JSON字段的智能重排</p>
    </div>
</body>
</html> 